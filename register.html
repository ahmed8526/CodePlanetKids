<!DOCTYPE html>
<html lang="ar">
<head>
    <link rel="icon" href="logo.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø­Ø¬Ø² | Code Planet Kids</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        header, footer { display: none; }
        body { background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: 'Cairo', sans-serif; margin: 0; padding: 20px; }
        .checkout-wrapper { display: grid; grid-template-columns: 1fr 1.6fr; background: white; width: 100%; max-width: 1100px; border-radius: 20px; overflow: hidden; box-shadow: 0 15px 50px rgba(0,0,0,0.05); }
        .summary-col { background: linear-gradient(135deg, #2c3e50, #34495e); color: white; padding: 40px; position: relative; display: flex; flex-direction: column; }
        .summary-col h2 { font-size: 1.4rem; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .order-row { display: flex; justify-content: space-between; margin-bottom: 15px; color: #bdc3c7; font-size: 0.95rem; }
        .order-row.total { margin-top: auto; color: #4ECDC4; font-size: 1.6rem; font-weight: bold; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; }
        .form-col { padding: 40px; background: white; }
        .back-btn { text-decoration: none; color: #7f8c8d; font-size: 0.9rem; display: inline-flex; align-items: center; gap: 5px; margin-bottom: 20px; }
        .form-title { font-size: 1.5rem; color: #2c3e50; margin-bottom: 25px; font-weight: bold; }
        .input-group { margin-bottom: 20px; }
        .label { display: block; margin-bottom: 8px; font-size: 0.9rem; color: #636e72; font-weight: bold; }
        .input-field { width: 100%; padding: 12px 15px; border: 2px solid #f1f2f6; border-radius: 10px; font-family: 'Cairo', sans-serif; transition: 0.3s; font-size: 1rem; }
        .input-field:focus { border-color: #4ECDC4; outline: none; background: #fafafa; }
        .select-wrapper { position: relative; }
        .select-wrapper select { appearance: none; -webkit-appearance: none; cursor: pointer; background: white; }
        .select-arrow { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #7f8c8d; pointer-events: none; font-size: 0.9rem; }
        .row-flex { display: flex; gap: 15px; }
        .payment-options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .pay-card { border: 2px solid #f1f2f6; border-radius: 12px; padding: 15px; text-align: center; cursor: pointer; transition: 0.3s; }
        .pay-card:hover { border-color: #ddd; }
        .pay-card.active { border-color: #4ECDC4; background: #e0fcfb; color: #00796b; }
        .pay-info { display: none; background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center; border: 1px dashed #ccc; margin-bottom: 20px; font-size: 0.9rem; }
        .copy-box { background: #fff; padding: 8px; border-radius: 8px; border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 5px; }
        
        .confirm-btn { width: 100%; padding: 15px; background: #2c3e50; color: white; border: none; border-radius: 50px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 20px; transition: 0.3s; box-shadow: 0 5px 15px rgba(44, 62, 80, 0.2); }
        .confirm-btn:hover { transform: translateY(-2px); background: #34495e; }

        .upload-info-box { border: 2px dashed #bdc3c7; background: #f9f9f9; padding: 20px; border-radius: 12px; text-align: center; margin-top: 20px; }
        
        /* Ø®Ø§Ù†Ø© Ø§Ù„ÙƒÙˆØ¨ÙˆÙ† */
        .coupon-section { margin-top: 20px; padding: 15px; background: #fffdf5; border: 1px dashed #e67e22; border-radius: 10px; }
        .coupon-input-group { display: flex; gap: 10px; }
        .coupon-btn { background: #e67e22; color: white; border: none; padding: 0 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .coupon-btn:hover { background: #d35400; }

        /* Popup Styles */
        .custom-popup-content { text-align: center; font-family: 'Cairo', sans-serif; }
        .popup-icon-box i { font-size: 4rem; color: #2ecc71; animation: popIn 0.5s; }
        .popup-title { font-size: 1.5rem; color: #2c3e50; margin: 10px 0; font-weight: 800; }
        .popup-text { font-size: 1rem; color: #7f8c8d; margin-bottom: 25px; }
        .whatsapp-btn-large { display: flex; align-items: center; justify-content: center; gap: 10px; background-color: #25D366; color: white !important; padding: 15px 30px; border-radius: 50px; font-size: 1.1rem; font-weight: bold; text-decoration: none; box-shadow: 0 10px 20px rgba(37, 211, 102, 0.3); transition: 0.3s; margin: 0 auto; width: fit-content; }
        .whatsapp-btn-large:hover { transform: translateY(-3px); background-color: #128c7e; }
        .whatsapp-float { position: fixed; bottom: 25px; right: 25px; background-color: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; text-align: center; font-size: 35px; box-shadow: 2px 2px 10px rgba(0,0,0,0.3); z-index: 9999; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; animation: pulse 2s infinite; }
        .whatsapp-float:hover { background-color: #128c7e; transform: scale(1.1); }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); } 100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); } }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @media (max-width: 850px) { .checkout-wrapper { grid-template-columns: 1fr; display: flex; flex-direction: column-reverse; } .summary-col { order: 1; padding: 25px; border-radius: 20px 20px 0 0; } .form-col { order: 2; padding: 25px; } .row-flex { flex-direction: column; gap: 15px; } body { padding: 10px; } }
    </style>
</head>
<body>
    <div class="checkout-wrapper">
        <div class="summary-col">
            <h2>ğŸ§¾ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h2>
            <div class="order-row">
                <span id="course-name">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ±Ø©...</span>
                <span id="course-price">--</span>
            </div>
            <div class="order-row" id="discount-row" style="display: none; color: #27ae60;">
                <span>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ…</span>
                <span id="discount-amount">-0.00 Ø¬.Ù…</span>
            </div>
            <div class="order-row">
                <span>Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© / Ø§Ù„Ø±Ø³ÙˆÙ…</span>
                <span>0.00 Ø¬.Ù…</span>
            </div>
            <div class="order-row total">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>
                <span id="total-price">0.00 Ø¬.Ù…</span>
            </div>
            <div style="margin-top: 20px; font-size: 0.8rem; opacity: 0.7; text-align: center;">
                <i class="fas fa-shield-alt"></i> Ø¶Ù…Ø§Ù† Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ù„Ù…Ø¯Ø© 7 Ø£ÙŠØ§Ù…
            </div>
        </div>

        <div class="form-col">
            <a href="courses.html" class="back-btn"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø¯ÙˆØ±Ø§Øª</a>
            <div class="form-title">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</div>

            <form id="bookingForm" action="https://api.web3forms.com/submit" method="POST">
                <input type="hidden" name="access_key" value="6165816a-da06-441b-aaeb-a834d6c319c2">
                <input type="hidden" name="subject" value="Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ (Lead) ğŸ’°">
                <input type="hidden" id="selected_plan" name="Selected_Plan" value="ØªØ³Ø¬ÙŠÙ„ Ø¹Ø§Ù…">

                <div class="input-group">
                    <label class="label">Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="child_name" name="child_name" class="input-field" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ" required>
                </div>

                <div class="row-flex">
                    <div class="input-group" style="flex: 1;">
                        <label class="label">Ø§Ù„Ø³Ù†</label>
                        <input type="number" id="child_age" name="child_age" class="input-field" required>
                    </div>
                    <div class="input-group" style="flex: 2;">
                        <label class="label">Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</label>
                        <input type="tel" id="parent_phone" name="parent_phone" class="input-field" placeholder="01xxxxxxxxx" required>
                    </div>
                </div>

                <div class="input-group">
                    <label class="label">Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</label>
                    <div class="select-wrapper">
                        <select id="course_dropdown" name="course_selected" class="input-field" onchange="updateInvoice()" required>
                            <option value="" disabled selected>-- Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ±Ø© --</option>
                            <option value="scratch" data-price="800" data-name="Ø¯ÙˆØ±Ø© Ø³ÙƒØ±Ø§ØªØ´ Ø§Ù„Ø´Ø§Ù…Ù„Ø©">Ø³ÙƒØ±Ø§ØªØ´ Ø§Ù„Ø´Ø§Ù…Ù„Ø© (800 Ø¬.Ù…)</option>
                            <option value="python" data-price="1000" data-name="Ø¨Ø§ÙŠØ«ÙˆÙ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„">Ø¨Ø§ÙŠØ«ÙˆÙ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„ (1000 Ø¬.Ù…)</option>
                            <option value="python_oop" data-price="1500" data-name="Ø¨Ø§ÙŠØ«ÙˆÙ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ (OOP)">Ø¨Ø§ÙŠØ«ÙˆÙ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ (1500 Ø¬.Ù…)</option>
                        </select>
                        <i class="fas fa-chevron-down select-arrow"></i>
                    </div>
                </div>

                <div class="coupon-section">
                    <label class="label" style="color: #d35400;">Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ÙƒÙˆØ¯ Ø®ØµÙ…ØŸ ğŸŸï¸</label>
                    <div class="coupon-input-group">
                        <input type="text" id="coupon_input" class="input-field" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§" style="margin-bottom: 0;">
                        <button type="button" class="coupon-btn" onclick="applyCoupon()">ØªÙØ¹ÙŠÙ„</button>
                    </div>
                    <div id="coupon-msg" style="font-size: 0.9rem; margin-top: 5px;"></div>
                </div>

                <div class="form-title" style="margin-top: 30px; font-size: 1.2rem;">Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ØªØ£ÙƒÙŠØ¯</div>

                <div class="payment-options">
                    <div class="pay-card" onclick="selectPay('vodafone', this)">
                        <i class="fas fa-mobile-alt" style="font-size: 1.5rem; display: block; margin-bottom: 5px;"></i>
                        ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´
                    </div>
                    <div class="pay-card" onclick="selectPay('instapay', this)">
                        <i class="fas fa-university" style="font-size: 1.5rem; display: block; margin-bottom: 5px;"></i>
                        Ø§Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ
                    </div>
                </div>

                <div id="vodafone-info" class="pay-info">
                    <p style="margin-bottom: 5px;">Ø­ÙˆÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¹Ù„Ù‰ Ø±Ù‚Ù…:</p>
                    <div class="copy-box">
                        <strong id="vf-number" style="font-size: 1.2rem; color: #c0392b; font-family: monospace;">01018953457</strong>
                        <button type="button" onclick="copyText('vf-number')" style="background: #eee; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-copy"></i> Ù†Ø³Ø®
                        </button>
                    </div>
                </div>

                <div id="instapay-info" class="pay-info">
                    <p style="margin-bottom: 5px;">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙØ¹ (IPA):</p>
                    <div class="copy-box">
                        <strong id="insta-address" style="font-size: 1.1rem; color: #6c5ce7; font-family: monospace;">ahmed4.8.9@instapay</strong>
                        <button type="button" onclick="copyText('insta-address')" style="background: #eee; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-copy"></i> Ù†Ø³Ø®
                        </button>
                    </div>
                </div>

                <div class="upload-info-box">
                    <i class="fas fa-cam" style="font-size: 2rem; color: #7f8c8d; margin-bottom: 10px;"></i>
                    <p style="margin: 0; color: #555; font-weight: bold;">
                        ÙŠØ±Ø¬Ù‰ ØªØ¬Ù‡ÙŠØ² ØµÙˆØ±Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ (Ø³ÙƒØ±ÙŠÙ† Ø´ÙˆØª) Ù„Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ ÙÙˆØ±Ø§Ù‹ Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ ØªØ£ÙƒÙŠØ¯.
                    </p>
                </div>

                <!-- Ø¬Ù…Ù„Ø© Ø§Ù„Ø·Ù…Ø£Ù†ÙŠÙ†Ø© (Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) -->
                <div style="display: flex; align-items: center; gap: 10px; background: #fff8e1; padding: 10px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9rem; color: #d35400;">
                    <i class="fas fa-check-circle"></i>
                    <span>Ø¨Ù…Ø¬Ø±Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ØŒ Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙˆØ±Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø². Ù…ÙƒØ§Ù† Ø§Ø¨Ù†Ùƒ Ù…Ø­ÙÙˆØ¸!</span>
                </div>

                <button type="submit" class="confirm-btn">
                    ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠØµØ§Ù„ <i class="fab fa-whatsapp"></i>
                </button>
            </form>
        </div>
    </div>

    <a href="https://wa.me/201019342589" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script>
        let offerPrice = null;
        let offerDiscountValue = 0;
        let offerDiscountType = 'none';
        let couponDiscount = { type: 'none', value: 0 };

        function updateInvoice() {
            const dropdown = document.getElementById('course_dropdown');
            const selectedOption = dropdown.options[dropdown.selectedIndex];

            if (selectedOption.value) {
                const name = selectedOption.getAttribute('data-name');
                let originalPrice = parseInt(selectedOption.getAttribute('data-price'));
                let currentPrice = originalPrice;
                let note = "";

                if (offerPrice !== null) { currentPrice = offerPrice; note = " (Ø³Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¶)"; }
                else if (offerDiscountType === 'fixed') { currentPrice -= offerDiscountValue; note = ` (Ø®ØµÙ… Ø¹Ø±Ø¶ ${offerDiscountValue} Ø¬.Ù…)`; }
                else if (offerDiscountType === 'percent') { let discountAmount = originalPrice * (offerDiscountValue / 100); currentPrice -= discountAmount; note = ` (Ø®ØµÙ… Ø¹Ø±Ø¶ ${offerDiscountValue}%)`; }

                if (couponDiscount.type === 'fixed') { currentPrice -= couponDiscount.value; note += ` + ÙƒÙˆØ¨ÙˆÙ† (${couponDiscount.value} Ø¬.Ù…)`; } 
                else if (couponDiscount.type === 'percent') { let discountAmount = currentPrice * (couponDiscount.value / 100); currentPrice -= discountAmount; note += ` + ÙƒÙˆØ¨ÙˆÙ† (${couponDiscount.value}%)`; }

                document.getElementById('course-name').innerText = name + note;
                document.getElementById('course-price').innerText = originalPrice + " Ø¬.Ù…";
                const totalEl = document.getElementById('total-price');
                totalEl.innerText = Math.max(0, Math.round(currentPrice)) + " Ø¬.Ù…";
                
                if (currentPrice < originalPrice) {
                    totalEl.style.color = "#27ae60";
                    document.getElementById('course-price').style.textDecoration = "line-through";
                    document.getElementById('course-price').style.color = "#999";
                    document.getElementById('discount-row').style.display = "flex";
                    document.getElementById('discount-amount').innerText = "-" + (originalPrice - Math.round(currentPrice)) + " Ø¬.Ù…";
                } else {
                    totalEl.style.color = "#4ECDC4";
                    document.getElementById('course-price').style.textDecoration = "none";
                    document.getElementById('course-price').style.color = "#bdc3c7";
                    document.getElementById('discount-row').style.display = "none";
                }
            }
        }

        function applyCoupon() {
            const code = document.getElementById('coupon_input').value.trim().toUpperCase();
            const msg = document.getElementById('coupon-msg');
            
            if (code === 'CPK100' || code === 'EARLYBIRD') { couponDiscount = { type: 'fixed', value: 100 }; msg.style.color = 'green'; msg.innerText = "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø®ØµÙ… 100 Ø¬Ù†ÙŠÙ‡! ğŸ‰"; } 
            else if (code === 'WELCOME10' || code === 'SIBLINGS') { couponDiscount = { type: 'percent', value: 10 }; msg.style.color = 'green'; msg.innerText = "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø®ØµÙ… 10%! ğŸ‰"; } 
            else { msg.style.color = 'red'; msg.innerText = "Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ âŒ"; couponDiscount = { type: 'none', value: 0 }; }
            updateInvoice();
        }

        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            let plan = urlParams.get('plan');
            if(plan) {
                plan = decodeURIComponent(plan);
                document.getElementById('selected_plan').value = plan;
                
                if (plan.includes('1500') || plan.includes('Ø¨Ø·Ù„')) { offerPrice = 1500; }
                else if (plan.includes('100') || plan.includes('Ù…Ø¨ÙƒØ±')) { offerDiscountType = 'fixed'; offerDiscountValue = 100; }
                else if (plan.includes('20') || plan.includes('Ø´Ù„Ø©')) { offerDiscountType = 'percent'; offerDiscountValue = 20; }

                const dropdown = document.getElementById('course_dropdown');
                const planLower = plan.toLowerCase();
                
                if (planLower.includes('scratch') || plan.includes('Ø³ÙƒØ±Ø§ØªØ´')) dropdown.value = "scratch";
                else if (planLower.includes('python')) { 
                    if (planLower.includes('oop') || plan.includes('ÙˆØ­Ø´')) dropdown.value = "python_oop";
                    else dropdown.value = "python";
                }
                else if (offerPrice === 1500) dropdown.value = "python";

                updateInvoice();
            }
        }

        function selectPay(type, card) {
            document.querySelectorAll('.pay-card').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.pay-info').forEach(b => b.style.display = 'none');
            card.classList.add('active');
            document.getElementById(type + '-info').style.display = 'block';
        }

        function copyText(elementId) {
            var text = document.getElementById(elementId).innerText.trim();
            navigator.clipboard.writeText(text);
            const Toast = Swal.mixin({ toast: true, position: 'top-end', showConfirmButton: false, timer: 2000 });
            Toast.fire({ icon: 'success', title: 'ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¨Ù†Ø¬Ø§Ø­' });
        }

        function submitToWhatsapp() {
            const name = document.getElementById('child_name').value;
            const age = document.getElementById('child_age').value;
            const phone = document.getElementById('parent_phone').value;
            const courseDropdown = document.getElementById('course_dropdown');
            
            if(!name || !age || !phone || courseDropdown.value == "") {
                Swal.fire({ icon: 'warning', title: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ù‚ØµØ©', text: 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹', confirmButtonColor: '#2c3e50' });
                return;
            }

            const courseName = courseDropdown.options[courseDropdown.selectedIndex].text;
            const total = document.getElementById('total-price').innerText;
            const plan = document.getElementById('selected_plan').value;

            const msg = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ØºØ¨ ÙÙŠ ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø² ÙƒÙˆØ±Ø³:%0a%0ağŸ‘¤ Ø§Ù„Ø·Ø§Ù„Ø¨: ${name} (${age} Ø³Ù†Ø©)%0ağŸ“± ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±: ${phone}%0ağŸ“š Ø§Ù„ÙƒÙˆØ±Ø³: ${courseName}%0ağŸ’° Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${total}%0ağŸ·ï¸ Ø§Ù„Ø¹Ø±Ø¶/Ø§Ù„ÙƒÙˆØ¨ÙˆÙ†: ${plan}%0a%0a(Ù…Ø±ÙÙ‚ ØµÙˆØ±Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„)`;
            const waLink = `https://wa.me/201019342589?text=${msg}`;

            Swal.fire({
                title: '<strong>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</strong>',
                icon: 'success',
                html: `
                    <div style="text-align: right; font-size: 1rem; line-height: 1.6; margin-bottom: 20px; color: #555;">
                        <p>ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! âœ…</p>
                        <p>Ø§Ø¶ØºØ· Ø¨Ø§Ù„Ø£Ø³ÙÙ„ Ù„ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠØµØ§Ù„.</p>
                    </div>
                    <a href="${waLink}" target="_blank" class="whatsapp-btn-large">
                        <i class="fab fa-whatsapp"></i> ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø¢Ù†
                    </a>
                `,
                showConfirmButton: false,
                showCloseButton: true
            });
        }

        const form = document.getElementById('bookingForm');
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            Swal.fire({ title: 'Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨...', allowOutsideClick: false, didOpen: () => { Swal.showLoading(); } });

            const formData = new FormData(form);
            formData.append("Final_Price", document.getElementById('total-price').innerText);

            fetch("https://api.web3forms.com/submit", { method: 'POST', body: formData })
            .then(() => { submitToWhatsapp(); })
            .catch(() => { submitToWhatsapp(); });
        });
    </script>
</body>
</html>
